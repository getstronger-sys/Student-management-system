# 学生管理系统 - 后续操作指南

本指南将帮助你完成系统的验证、运行和使用，确保你能顺利操作学生管理系统的各项功能。

## 一、验证登录修复效果

首先，我们需要验证之前对登录界面无响应问题的修复是否成功。

### 步骤 1: 启动MySQL数据库

如果你使用Docker运行MySQL（推荐方式）：

```powershell
# 确保在项目根目录下
cd e:\OneDrive\Desktop\大三上\python\大作业\student_management_system

# 启动MySQL容器
docker-compose up -d

# 查看容器状态
docker-compose ps
```

如果你使用本地安装的MySQL：
- 确保MySQL服务已启动
- 确保连接信息与`config/config.py`中的`DB_CONFIG`配置一致

### 步骤 2: 初始化数据库

```powershell
# 运行数据库初始化脚本
python init_database.py
```

此脚本会：
- 连接到MySQL数据库
- 创建所需的数据表（users、students、teachers、courses、scores）
- 插入测试数据（包括管理员、教师和学生账号）

### 步骤 3: 启动服务器

```powershell
# 在一个终端中启动服务器
python main.py --server
```

你应该能看到类似以下的输出：
```
2025-09-27 15:26:06,286 - db_manager - INFO - 数据库连接 成功
2025-09-27 15:26:06,407 - server - INFO - 服务器已启动，监听地址: 0.0.0.0:8888
```

### 步骤 4: 运行客户端

```powershell
# 在另一个终端中运行客户端
python main.py
```

登录窗口出现后，尝试使用教师账号登录：
- 用户名: teacher1
- 密码: teacher123

即使网络响应较慢，登录界面也不会出现无响应的情况，并且最终能成功登录到系统。

## 二、系统功能使用指南

### 1. 管理员功能

使用管理员账号登录（admin/admin123）后，可以：
- 查看所有用户信息
- 管理用户（添加、删除、修改用户）
- 查看系统统计数据

### 2. 教师功能

使用教师账号登录（teacher1/teacher123 或 teacher2/teacher123）后，可以：
- 查看自己教授的课程
- 查看和管理学生成绩
- 查看成绩统计信息

### 3. 学生功能

使用学生账号登录（student1/student123 等）后，可以：
- 查看个人信息
- 查看选修的课程
- 查看自己的成绩和GPA

## 三、系统结构说明

系统主要由以下模块组成：

- **config/**: 配置文件，包含数据库连接信息和网络配置
- **database/**: 数据库管理模块，处理数据库连接和操作
- **models/**: 数据模型和业务逻辑，包括用户、学生、教师、课程和成绩等模型
- **network/**: 网络通信模块，包含服务器和客户端实现
- **ui/**: 用户界面模块，实现登录窗口和各个角色的仪表盘
- **utils/**: 工具函数，提供通用功能支持

## 四、常见问题排查

### 1. 数据库连接失败

- 检查MySQL服务是否正在运行
- 验证`config/config.py`中的数据库配置是否正确
- 如果你使用Docker，请确认容器已启动并且端口映射正确

### 2. 登录失败

- 确保已运行`init_database.py`初始化数据库
- 检查用户名和密码是否正确（注意区分大小写）
- 查看日志输出，了解具体的错误原因

### 3. 服务器无法启动

- 检查端口是否被其他程序占用
- 确认数据库连接信息正确
- 查看控制台输出的错误信息

## 五、系统优化建议

### 1. 安全性优化

1. **加密存储密码**：目前系统已经使用SHA256哈希存储密码，这是一个好的做法

2. **添加输入验证**：
   - 对用户输入的数据进行验证，防止SQL注入
   - 可以在`db_manager.py`中添加参数化查询的全面支持

3. **会话管理**：
   - 实现会话超时机制
   - 添加IP限制或登录失败次数限制

### 2. 性能优化

1. **异步处理**：
   - 考虑将所有网络操作和数据库查询改为异步处理
   - 可以使用`asyncio`和异步数据库驱动

2. **连接池**：
   - 为数据库连接实现连接池，避免频繁创建和关闭连接
   - 修改`db_manager.py`实现连接池功能

### 3. 功能优化

1. **增加搜索功能**：
   - 为学生、课程和成绩添加搜索功能
   - 可以在各个仪表盘界面添加搜索框

2. **数据导出**：
   - 添加将成绩、学生信息等导出为Excel或CSV文件的功能
   - 可以使用`pandas`库实现

3. **权限细化**：
   - 进一步细化教师和管理员的权限控制
   - 实现更精细的角色权限管理系统

## 六、开发流程指南

如果你想继续开发和完善系统，可以按照以下流程进行：

1. **了解需求**：明确新增功能的需求和目标

2. **设计实现方案**：
   - 确定需要修改或新增的文件
   - 设计数据结构和接口

3. **编写代码**：
   - 遵循现有的代码风格和规范
   - 确保新增功能与现有系统兼容

4. **测试验证**：
   - 对新增功能进行全面测试
   - 确保不会影响现有功能

5. **文档更新**：
   - 更新README.md和相关文档
   - 记录修改内容和使用方法

## 七、项目部署指南

如果需要将系统部署到生产环境，可以参考以下步骤：

1. **环境准备**：
   - 安装Python 3.8+和必要的依赖
   - 配置MySQL数据库

2. **配置修改**：
   - 更新`config/config.py`中的生产环境配置
   - 确保使用安全的数据库密码和网络设置

3. **服务部署**：
   - 可以使用`Gunicorn`或`uWSGI`部署服务器
   - 配置反向代理（如Nginx）

4. **启动服务**：
   - 使用Systemd或Supervisor管理服务进程
   - 配置自动启动和日志轮转